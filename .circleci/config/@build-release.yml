### ***
### WARNING: DO NOT manually EDIT or MERGE this file, it is generated by 'make .circleci/config/@build-release.yml'.
### INSTEAD: Edit or merge the source in packages-oss.lock/pkgs.yml .circleci/config/@build-release.yml.tpl then run 'make .circleci/config/@build-release.yml'.
### ***
# Current cache version: cache002

executors:
  releaser:
    docker:
      - image: circleci/buildpack-deps
    environment:
      PRODUCT_REVISION: ""
      AUTO_INSTALL_TOOLS: 'YES'
    shell: /usr/bin/env bash -euo pipefail -c

workflows:
  build-standalone:
    jobs:
      - cache-builder-images:
          filters:
            branches:
              only:
                - /build-.*/
                - /ci.*/
      - darwin_386_package: { requires: [ cache-builder-images ] }
      - darwin_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_386_package: { requires: [ cache-builder-images ] }
      - freebsd_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_arm_package: { requires: [ cache-builder-images ] }
      - linux_386_package: { requires: [ cache-builder-images ] }
      - linux_amd64_package: { requires: [ cache-builder-images ] }
      - linux_arm_package: { requires: [ cache-builder-images ] }
      - linux_arm64_package: { requires: [ cache-builder-images ] }
      - netbsd_386_package: { requires: [ cache-builder-images ] }
      - netbsd_amd64_package: { requires: [ cache-builder-images ] }
      - openbsd_386_package: { requires: [ cache-builder-images ] }
      - openbsd_amd64_package: { requires: [ cache-builder-images ] }
      - solaris_amd64_package: { requires: [ cache-builder-images ] }
      - windows_386_package: { requires: [ cache-builder-images ] }
      - windows_amd64_package: { requires: [ cache-builder-images ] }
      - bundle-releases:
          requires:
            - darwin_386_package
            - darwin_amd64_package
            - freebsd_386_package
            - freebsd_amd64_package
            - freebsd_arm_package
            - linux_386_package
            - linux_amd64_package
            - linux_arm_package
            - linux_arm64_package
            - netbsd_386_package
            - netbsd_amd64_package
            - openbsd_386_package
            - openbsd_amd64_package
            - solaris_amd64_package
            - windows_386_package
            - windows_amd64_package
jobs:
  cache-builder-images:
    executor: releaser
    steps:
      - setup_remote_docker
      - checkout
      - write-build-layer-cache-keys

      # Load best available cached image.
      - restore_cache:
          keys:
            - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
            - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
            - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
            - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
            - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
            - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
            - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
            - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run:
          name: Finish early if loaded exact match from cache.
          command: |
            if [ -f .buildcache/archives/07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61.tar.gz ]; then
              echo "Exact match found in cache, skipping build."
              circleci-agent step halt
            else
              echo "No exact match found, proceeding with build."
            fi
      - run: LAYER_SPEC_ID=07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61 make -C packages*.lock load-builder-cache

      # No exact match was found, so build each layer up to target type.
      - run: make -f packages*.lock/layer.mk 00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db-image
      - run: make -f packages*.lock/layer.mk 01-install-go-c61ac845c6c310143a06b7bff2465471876749f2-image
      - run: make -f packages*.lock/layer.mk 02-install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5-image
      - run: make -f packages*.lock/layer.mk 03-set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b-image
      - run: make -f packages*.lock/layer.mk 04-install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c-image
      - run: make -f packages*.lock/layer.mk 05-ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff-image
      - run: make -f packages*.lock/layer.mk 06-build-ui-b505fc9ef122cc39b043929934787ee4dda61865-image
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61-image

      # Save the target layer archive.
      
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61-save
      
      # Store the target layer archive as all the relevant cache names.
      - save_cache:
          key: cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          paths:
            - .buildcache/archives/07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61.tar.gz
      - run: mv .buildcache/archives/07-build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61.tar.gz .buildcache/archives/06-build-ui-b505fc9ef122cc39b043929934787ee4dda61865.tar.gz
      - save_cache:
          key: cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          paths:
            - .buildcache/archives/06-build-ui-b505fc9ef122cc39b043929934787ee4dda61865.tar.gz
      - run: mv .buildcache/archives/06-build-ui-b505fc9ef122cc39b043929934787ee4dda61865.tar.gz .buildcache/archives/05-ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff.tar.gz
      - save_cache:
          key: cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          paths:
            - .buildcache/archives/05-ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff.tar.gz
      - run: mv .buildcache/archives/05-ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff.tar.gz .buildcache/archives/04-install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c.tar.gz
      - save_cache:
          key: cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          paths:
            - .buildcache/archives/04-install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c.tar.gz
      - run: mv .buildcache/archives/04-install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c.tar.gz .buildcache/archives/03-set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b.tar.gz
      - save_cache:
          key: cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          paths:
            - .buildcache/archives/03-set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b.tar.gz
      - run: mv .buildcache/archives/03-set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b.tar.gz .buildcache/archives/02-install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5.tar.gz
      - save_cache:
          key: cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          paths:
            - .buildcache/archives/02-install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5.tar.gz
      - run: mv .buildcache/archives/02-install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5.tar.gz .buildcache/archives/01-install-go-c61ac845c6c310143a06b7bff2465471876749f2.tar.gz
      - save_cache:
          key: cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          paths:
            - .buildcache/archives/01-install-go-c61ac845c6c310143a06b7bff2465471876749f2.tar.gz
      - run: mv .buildcache/archives/01-install-go-c61ac845c6c310143a06b7bff2465471876749f2.tar.gz .buildcache/archives/00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db.tar.gz
      - save_cache:
          key: cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
          paths:
            - .buildcache/archives/00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db.tar.gz
  darwin_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: bb07f08c156d885036aa4167ab07de80fb1c2467
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-bb07f08c156d885036aa4167ab07de80fb1c2467-{{checksum ".buildcache/cache-keys/package-bb07f08c156d885036aa4167ab07de80fb1c2467"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_6a83_{{checksum ".buildcache/cache-keys/copy-source-6a83b6b67a0ba87e0c7231bcdf7cc5ece8e6b463"}}
          - cache002-warm-go-build-vendor-cache_ba4c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-ba4c8574a94b62f84393eca721ec376060c61a87"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-bb07f08c156d885036aa4167ab07de80fb1c2467-{{checksum ".buildcache/cache-keys/package-bb07f08c156d885036aa4167ab07de80fb1c2467"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-ba4c8574a94b62f84393eca721ec376060c61a87.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-ba4c8574a94b62f84393eca721ec376060c61a87-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_ba4c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-ba4c8574a94b62f84393eca721ec376060c61a87"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-ba4c8574a94b62f84393eca721ec376060c61a87.tar.gz

  darwin_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 11e9d4bcafdbd85a742c1d1b91da4424de35a17d
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d-{{checksum ".buildcache/cache-keys/package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_2b13_{{checksum ".buildcache/cache-keys/copy-source-2b13fe045ae3f2f40cf6e81a43ff2097be1769ca"}}
          - cache002-warm-go-build-vendor-cache_6a96_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-6a965e749860704eedf01d920fcec1ed02ad0702"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d-{{checksum ".buildcache/cache-keys/package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-6a965e749860704eedf01d920fcec1ed02ad0702.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-6a965e749860704eedf01d920fcec1ed02ad0702-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_6a96_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-6a965e749860704eedf01d920fcec1ed02ad0702"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-6a965e749860704eedf01d920fcec1ed02ad0702.tar.gz

  freebsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: b88f28dcd3cc1d958d753e46c84b70e7616139bc
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-b88f28dcd3cc1d958d753e46c84b70e7616139bc-{{checksum ".buildcache/cache-keys/package-b88f28dcd3cc1d958d753e46c84b70e7616139bc"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_db9e_{{checksum ".buildcache/cache-keys/copy-source-db9ec35e19f116d31e625e32bb11798779115abe"}}
          - cache002-warm-go-build-vendor-cache_62e5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-62e57c000a2cc93377f871ea90eb42e8036e09c7"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-b88f28dcd3cc1d958d753e46c84b70e7616139bc-{{checksum ".buildcache/cache-keys/package-b88f28dcd3cc1d958d753e46c84b70e7616139bc"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-62e57c000a2cc93377f871ea90eb42e8036e09c7.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-62e57c000a2cc93377f871ea90eb42e8036e09c7-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_62e5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-62e57c000a2cc93377f871ea90eb42e8036e09c7"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-62e57c000a2cc93377f871ea90eb42e8036e09c7.tar.gz

  freebsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 30dc3e173c49afc668917eabf6c75c85b7542e46
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-30dc3e173c49afc668917eabf6c75c85b7542e46-{{checksum ".buildcache/cache-keys/package-30dc3e173c49afc668917eabf6c75c85b7542e46"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_2983_{{checksum ".buildcache/cache-keys/copy-source-29839f4c590765710e74a7a6b10df72d593e2bc8"}}
          - cache002-warm-go-build-vendor-cache_3fee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-3fee832ef2db93ad505ed7812fea4326356e2ded"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-30dc3e173c49afc668917eabf6c75c85b7542e46-{{checksum ".buildcache/cache-keys/package-30dc3e173c49afc668917eabf6c75c85b7542e46"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-3fee832ef2db93ad505ed7812fea4326356e2ded.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-3fee832ef2db93ad505ed7812fea4326356e2ded-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_3fee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-3fee832ef2db93ad505ed7812fea4326356e2ded"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-3fee832ef2db93ad505ed7812fea4326356e2ded.tar.gz

  freebsd_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 425eb3e346c505f4c1ca09d56a14b6715ef8218b
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-425eb3e346c505f4c1ca09d56a14b6715ef8218b-{{checksum ".buildcache/cache-keys/package-425eb3e346c505f4c1ca09d56a14b6715ef8218b"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_6212_{{checksum ".buildcache/cache-keys/copy-source-62122d34c3cacd2890ae25a0b0bdb839b7839b8a"}}
          - cache002-warm-go-build-vendor-cache_f5a2_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-f5a26f8569f2c62527e3af00f03c0e59f5fb4051"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-425eb3e346c505f4c1ca09d56a14b6715ef8218b-{{checksum ".buildcache/cache-keys/package-425eb3e346c505f4c1ca09d56a14b6715ef8218b"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-f5a26f8569f2c62527e3af00f03c0e59f5fb4051.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-f5a26f8569f2c62527e3af00f03c0e59f5fb4051-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_f5a2_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-f5a26f8569f2c62527e3af00f03c0e59f5fb4051"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-f5a26f8569f2c62527e3af00f03c0e59f5fb4051.tar.gz

  linux_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 7570b94bfa7151547efbff8756143df8b924cb3d
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-7570b94bfa7151547efbff8756143df8b924cb3d-{{checksum ".buildcache/cache-keys/package-7570b94bfa7151547efbff8756143df8b924cb3d"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_7ae2_{{checksum ".buildcache/cache-keys/copy-source-7ae2958cfd547de13e89b21546d7e3b7f254a5f0"}}
          - cache002-warm-go-build-vendor-cache_78ed_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-78edb5ae764d9fb3d24c274b23f29a1e127b07a0"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-7570b94bfa7151547efbff8756143df8b924cb3d-{{checksum ".buildcache/cache-keys/package-7570b94bfa7151547efbff8756143df8b924cb3d"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-78edb5ae764d9fb3d24c274b23f29a1e127b07a0.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-78edb5ae764d9fb3d24c274b23f29a1e127b07a0-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_78ed_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-78edb5ae764d9fb3d24c274b23f29a1e127b07a0"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-78edb5ae764d9fb3d24c274b23f29a1e127b07a0.tar.gz

  linux_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 967c7b476dad4016eba6e74fe5cf9954a238132b
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-967c7b476dad4016eba6e74fe5cf9954a238132b-{{checksum ".buildcache/cache-keys/package-967c7b476dad4016eba6e74fe5cf9954a238132b"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_6032_{{checksum ".buildcache/cache-keys/copy-source-6032ecf2dd0609b6f44d1e9d1e67faa7c665f82e"}}
          - cache002-warm-go-build-vendor-cache_032b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-032b91ddc0ae8182fa6d532c421733225892ad85"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-967c7b476dad4016eba6e74fe5cf9954a238132b-{{checksum ".buildcache/cache-keys/package-967c7b476dad4016eba6e74fe5cf9954a238132b"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-032b91ddc0ae8182fa6d532c421733225892ad85.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-032b91ddc0ae8182fa6d532c421733225892ad85-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_032b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-032b91ddc0ae8182fa6d532c421733225892ad85"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-032b91ddc0ae8182fa6d532c421733225892ad85.tar.gz

  linux_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 48d03c91242324d8f0098cd6f432575916d4fbe8
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-48d03c91242324d8f0098cd6f432575916d4fbe8-{{checksum ".buildcache/cache-keys/package-48d03c91242324d8f0098cd6f432575916d4fbe8"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_63e6_{{checksum ".buildcache/cache-keys/copy-source-63e635b234bc4de8c637daf8588ed8d861c9c4d6"}}
          - cache002-warm-go-build-vendor-cache_2686_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-268663c8d65759da13a23cf749140b6f1367622a"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-48d03c91242324d8f0098cd6f432575916d4fbe8-{{checksum ".buildcache/cache-keys/package-48d03c91242324d8f0098cd6f432575916d4fbe8"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-268663c8d65759da13a23cf749140b6f1367622a.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-268663c8d65759da13a23cf749140b6f1367622a-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_2686_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-268663c8d65759da13a23cf749140b6f1367622a"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-268663c8d65759da13a23cf749140b6f1367622a.tar.gz

  linux_arm64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 028aaf3173c7947799040162334c7f3872fc3e4c
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-028aaf3173c7947799040162334c7f3872fc3e4c-{{checksum ".buildcache/cache-keys/package-028aaf3173c7947799040162334c7f3872fc3e4c"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_3453_{{checksum ".buildcache/cache-keys/copy-source-345300584fdc348d6228056b2172a60dca2ac991"}}
          - cache002-warm-go-build-vendor-cache_a00c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-a00c9f111286462c14ece4dfd39823353e7df7f4"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-028aaf3173c7947799040162334c7f3872fc3e4c-{{checksum ".buildcache/cache-keys/package-028aaf3173c7947799040162334c7f3872fc3e4c"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-a00c9f111286462c14ece4dfd39823353e7df7f4.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-a00c9f111286462c14ece4dfd39823353e7df7f4-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_a00c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-a00c9f111286462c14ece4dfd39823353e7df7f4"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-a00c9f111286462c14ece4dfd39823353e7df7f4.tar.gz

  netbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 370c6b1aba76bbc5cbf32006fa735f97249a0663
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-370c6b1aba76bbc5cbf32006fa735f97249a0663-{{checksum ".buildcache/cache-keys/package-370c6b1aba76bbc5cbf32006fa735f97249a0663"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_7950_{{checksum ".buildcache/cache-keys/copy-source-7950c849dbe00c1df5c131c6e7d68b7436862df8"}}
          - cache002-warm-go-build-vendor-cache_cb7a_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cb7ac84996633d9e4e3567c8a5c0e0e4f6fbeefa"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-370c6b1aba76bbc5cbf32006fa735f97249a0663-{{checksum ".buildcache/cache-keys/package-370c6b1aba76bbc5cbf32006fa735f97249a0663"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-cb7ac84996633d9e4e3567c8a5c0e0e4f6fbeefa.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-cb7ac84996633d9e4e3567c8a5c0e0e4f6fbeefa-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_cb7a_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cb7ac84996633d9e4e3567c8a5c0e0e4f6fbeefa"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-cb7ac84996633d9e4e3567c8a5c0e0e4f6fbeefa.tar.gz

  netbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 64e2de3b7727ca84326cb5175c7a08f7364c6c7a
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a-{{checksum ".buildcache/cache-keys/package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_76b2_{{checksum ".buildcache/cache-keys/copy-source-76b268d2f4023a80393149c16caa2a8d9750c34d"}}
          - cache002-warm-go-build-vendor-cache_725c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-725c75d6985e5e7d3753284a34f184cacf9d874d"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a-{{checksum ".buildcache/cache-keys/package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-725c75d6985e5e7d3753284a34f184cacf9d874d.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-725c75d6985e5e7d3753284a34f184cacf9d874d-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_725c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-725c75d6985e5e7d3753284a34f184cacf9d874d"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-725c75d6985e5e7d3753284a34f184cacf9d874d.tar.gz

  openbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: cb6ed1345fda5a2094975652476400ae7f9d38d8
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-cb6ed1345fda5a2094975652476400ae7f9d38d8-{{checksum ".buildcache/cache-keys/package-cb6ed1345fda5a2094975652476400ae7f9d38d8"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_b8a0_{{checksum ".buildcache/cache-keys/copy-source-b8a080ba4975682ce46de550f874b455f654ee63"}}
          - cache002-warm-go-build-vendor-cache_3fee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-3feecebc624f778cb2fc1f0f8a948c66dcd45b3d"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-cb6ed1345fda5a2094975652476400ae7f9d38d8-{{checksum ".buildcache/cache-keys/package-cb6ed1345fda5a2094975652476400ae7f9d38d8"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-3feecebc624f778cb2fc1f0f8a948c66dcd45b3d.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-3feecebc624f778cb2fc1f0f8a948c66dcd45b3d-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_3fee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-3feecebc624f778cb2fc1f0f8a948c66dcd45b3d"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-3feecebc624f778cb2fc1f0f8a948c66dcd45b3d.tar.gz

  openbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 3578ece3b2ea134e14f1e62315c18f27ac05775a
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-3578ece3b2ea134e14f1e62315c18f27ac05775a-{{checksum ".buildcache/cache-keys/package-3578ece3b2ea134e14f1e62315c18f27ac05775a"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_13d0_{{checksum ".buildcache/cache-keys/copy-source-13d04c597d48fd5cb6ee8c8a7c4cc34e520a166e"}}
          - cache002-warm-go-build-vendor-cache_54e5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-54e5ea91eddc0da639dd00f32e4c6d555473258a"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-3578ece3b2ea134e14f1e62315c18f27ac05775a-{{checksum ".buildcache/cache-keys/package-3578ece3b2ea134e14f1e62315c18f27ac05775a"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-54e5ea91eddc0da639dd00f32e4c6d555473258a.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-54e5ea91eddc0da639dd00f32e4c6d555473258a-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_54e5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-54e5ea91eddc0da639dd00f32e4c6d555473258a"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-54e5ea91eddc0da639dd00f32e4c6d555473258a.tar.gz

  solaris_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: c68068e4b01cbe174825a95582aefc3fc15ff6b8
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-c68068e4b01cbe174825a95582aefc3fc15ff6b8-{{checksum ".buildcache/cache-keys/package-c68068e4b01cbe174825a95582aefc3fc15ff6b8"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_4ef8_{{checksum ".buildcache/cache-keys/copy-source-4ef81023afa7509841122a9a272ac20798c66c2a"}}
          - cache002-warm-go-build-vendor-cache_4ff9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-4ff912699e842bcc531736f61a283a5a27942066"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-c68068e4b01cbe174825a95582aefc3fc15ff6b8-{{checksum ".buildcache/cache-keys/package-c68068e4b01cbe174825a95582aefc3fc15ff6b8"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-4ff912699e842bcc531736f61a283a5a27942066.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-4ff912699e842bcc531736f61a283a5a27942066-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_4ff9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-4ff912699e842bcc531736f61a283a5a27942066"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-4ff912699e842bcc531736f61a283a5a27942066.tar.gz

  windows_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: f5ffef05499c2b9d176d134777db2e9dc2cf3654
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-f5ffef05499c2b9d176d134777db2e9dc2cf3654-{{checksum ".buildcache/cache-keys/package-f5ffef05499c2b9d176d134777db2e9dc2cf3654"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_86a5_{{checksum ".buildcache/cache-keys/copy-source-86a5154ca27d0f0135190c6e9dae568bdd639b20"}}
          - cache002-warm-go-build-vendor-cache_b3a8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b3a83eb7a6ad63fdc732e658d909f0cf8a567777"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-f5ffef05499c2b9d176d134777db2e9dc2cf3654-{{checksum ".buildcache/cache-keys/package-f5ffef05499c2b9d176d134777db2e9dc2cf3654"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-b3a83eb7a6ad63fdc732e658d909f0cf8a567777.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-b3a83eb7a6ad63fdc732e658d909f0cf8a567777-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_b3a8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b3a83eb7a6ad63fdc732e658d909f0cf8a567777"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-b3a83eb7a6ad63fdc732e658d909f0cf8a567777.tar.gz

  windows_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 06fff1a1cfb3dbbc9b82585096947fb79bf360d0
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0-{{checksum ".buildcache/cache-keys/package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_b0f1_{{checksum ".buildcache/cache-keys/copy-source-b0f1f03d196a2c8936d320cf7b8d01206f1db7bb"}}
          - cache002-warm-go-build-vendor-cache_9bf4_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-9bf415a96782a1b148ad9d848188ade89b7fbf1c"}}
          - cache002-build-static-assets_f0c7_{{checksum ".buildcache/cache-keys/build-static-assets-f0c7e41fbe00897b4f2c77833d798a8d09a70a61"}}
          - cache002-build-ui_b505_{{checksum ".buildcache/cache-keys/build-ui-b505fc9ef122cc39b043929934787ee4dda61865"}}
          - cache002-ui-dependencies_7c9e_{{checksum ".buildcache/cache-keys/ui-dependencies-7c9efb820eeea32cc40cefb7b3388dedc09c63ff"}}
          - cache002-install-yarn_c339_{{checksum ".buildcache/cache-keys/install-yarn-c339f5b03553aaeeacf3f4309c45d37f98f25a1c"}}
          - cache002-set-workdir_21e5_{{checksum ".buildcache/cache-keys/set-workdir-21e545d015ed10a50a99ba0166267fb0f838949b"}}
          - cache002-install-go-tools_42a9_{{checksum ".buildcache/cache-keys/install-go-tools-42a954a0817769b2e682f77380cf9b3c2fc69ad5"}}
          - cache002-install-go_c61a_{{checksum ".buildcache/cache-keys/install-go-c61ac845c6c310143a06b7bff2465471876749f2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0-{{checksum ".buildcache/cache-keys/package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-9bf415a96782a1b148ad9d848188ade89b7fbf1c.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-9bf415a96782a1b148ad9d848188ade89b7fbf1c-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_9bf4_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-9bf415a96782a1b148ad9d848188ade89b7fbf1c"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-9bf415a96782a1b148ad9d848188ade89b7fbf1c.tar.gz


  bundle-releases:
    executor: releaser
    steps:
      - checkout
      - write-all-package-cache-keys
      - load-darwin_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: bb07f08c156d885036aa4167ab07de80fb1c2467
          name: Write package metadata for darwin_386_package
          command: |
            make package-meta
      - load-darwin_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 11e9d4bcafdbd85a742c1d1b91da4424de35a17d
          name: Write package metadata for darwin_amd64_package
          command: |
            make package-meta
      - load-freebsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: b88f28dcd3cc1d958d753e46c84b70e7616139bc
          name: Write package metadata for freebsd_386_package
          command: |
            make package-meta
      - load-freebsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 30dc3e173c49afc668917eabf6c75c85b7542e46
          name: Write package metadata for freebsd_amd64_package
          command: |
            make package-meta
      - load-freebsd_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 425eb3e346c505f4c1ca09d56a14b6715ef8218b
          name: Write package metadata for freebsd_arm_package
          command: |
            make package-meta
      - load-linux_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 7570b94bfa7151547efbff8756143df8b924cb3d
          name: Write package metadata for linux_386_package
          command: |
            make package-meta
      - load-linux_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 967c7b476dad4016eba6e74fe5cf9954a238132b
          name: Write package metadata for linux_amd64_package
          command: |
            make package-meta
      - load-linux_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 48d03c91242324d8f0098cd6f432575916d4fbe8
          name: Write package metadata for linux_arm_package
          command: |
            make package-meta
      - load-linux_arm64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 028aaf3173c7947799040162334c7f3872fc3e4c
          name: Write package metadata for linux_arm64_package
          command: |
            make package-meta
      - load-netbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 370c6b1aba76bbc5cbf32006fa735f97249a0663
          name: Write package metadata for netbsd_386_package
          command: |
            make package-meta
      - load-netbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 64e2de3b7727ca84326cb5175c7a08f7364c6c7a
          name: Write package metadata for netbsd_amd64_package
          command: |
            make package-meta
      - load-openbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: cb6ed1345fda5a2094975652476400ae7f9d38d8
          name: Write package metadata for openbsd_386_package
          command: |
            make package-meta
      - load-openbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 3578ece3b2ea134e14f1e62315c18f27ac05775a
          name: Write package metadata for openbsd_amd64_package
          command: |
            make package-meta
      - load-solaris_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: c68068e4b01cbe174825a95582aefc3fc15ff6b8
          name: Write package metadata for solaris_amd64_package
          command: |
            make package-meta
      - load-windows_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: f5ffef05499c2b9d176d134777db2e9dc2cf3654
          name: Write package metadata for windows_386_package
          command: |
            make package-meta
      - load-windows_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 06fff1a1cfb3dbbc9b82585096947fb79bf360d0
          name: Write package metadata for windows_amd64_package
          command: |
            make package-meta
      - run:
          name: Write package aliases
          command:
            make aliases
      - run:
          name: List Build Cache
          command: ls -lahR .buildcache

      # Surface the package store directory as an artifact.
      # This makes each zipped package separately downloadable.
      - store_artifacts:
          path: .buildcache/packages
          destination: packages-standalone

      # Surface a tarball of the whole package store as an artifact.
      - run: tar -czf packages-standalone.tar.gz .buildcache/packages
      - store_artifacts:
          path: packages-standalone.tar.gz
          destination: packages-standalone.tar.gz

      # Surface a tarball of just the metadata files.
      - run: tar -czf meta-standalone.tar.gz .buildcache/packages/store/*.json
      - store_artifacts:
          path: meta-standalone.tar.gz
          destination: meta-standalone.tar.gz

commands:
  load-darwin_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-bb07f08c156d885036aa4167ab07de80fb1c2467-{{checksum ".buildcache/cache-keys/package-bb07f08c156d885036aa4167ab07de80fb1c2467"}}'
  
  load-darwin_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d-{{checksum ".buildcache/cache-keys/package-11e9d4bcafdbd85a742c1d1b91da4424de35a17d"}}'
  
  load-freebsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-b88f28dcd3cc1d958d753e46c84b70e7616139bc-{{checksum ".buildcache/cache-keys/package-b88f28dcd3cc1d958d753e46c84b70e7616139bc"}}'
  
  load-freebsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-30dc3e173c49afc668917eabf6c75c85b7542e46-{{checksum ".buildcache/cache-keys/package-30dc3e173c49afc668917eabf6c75c85b7542e46"}}'
  
  load-freebsd_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-425eb3e346c505f4c1ca09d56a14b6715ef8218b-{{checksum ".buildcache/cache-keys/package-425eb3e346c505f4c1ca09d56a14b6715ef8218b"}}'
  
  load-linux_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-7570b94bfa7151547efbff8756143df8b924cb3d-{{checksum ".buildcache/cache-keys/package-7570b94bfa7151547efbff8756143df8b924cb3d"}}'
  
  load-linux_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-967c7b476dad4016eba6e74fe5cf9954a238132b-{{checksum ".buildcache/cache-keys/package-967c7b476dad4016eba6e74fe5cf9954a238132b"}}'
  
  load-linux_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-48d03c91242324d8f0098cd6f432575916d4fbe8-{{checksum ".buildcache/cache-keys/package-48d03c91242324d8f0098cd6f432575916d4fbe8"}}'
  
  load-linux_arm64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-028aaf3173c7947799040162334c7f3872fc3e4c-{{checksum ".buildcache/cache-keys/package-028aaf3173c7947799040162334c7f3872fc3e4c"}}'
  
  load-netbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-370c6b1aba76bbc5cbf32006fa735f97249a0663-{{checksum ".buildcache/cache-keys/package-370c6b1aba76bbc5cbf32006fa735f97249a0663"}}'
  
  load-netbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a-{{checksum ".buildcache/cache-keys/package-64e2de3b7727ca84326cb5175c7a08f7364c6c7a"}}'
  
  load-openbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-cb6ed1345fda5a2094975652476400ae7f9d38d8-{{checksum ".buildcache/cache-keys/package-cb6ed1345fda5a2094975652476400ae7f9d38d8"}}'
  
  load-openbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-3578ece3b2ea134e14f1e62315c18f27ac05775a-{{checksum ".buildcache/cache-keys/package-3578ece3b2ea134e14f1e62315c18f27ac05775a"}}'
  
  load-solaris_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-c68068e4b01cbe174825a95582aefc3fc15ff6b8-{{checksum ".buildcache/cache-keys/package-c68068e4b01cbe174825a95582aefc3fc15ff6b8"}}'
  
  load-windows_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-f5ffef05499c2b9d176d134777db2e9dc2cf3654-{{checksum ".buildcache/cache-keys/package-f5ffef05499c2b9d176d134777db2e9dc2cf3654"}}'
  
  load-windows_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0-{{checksum ".buildcache/cache-keys/package-06fff1a1cfb3dbbc9b82585096947fb79bf360d0"}}'
  

  write-build-layer-cache-keys:
    steps:
      - run:
          name: Write builder layer cache keys
          command: make -C packages*.lock write-builder-cache-keys

  write-package-cache-key:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-package-cache-key

  write-all-package-cache-keys:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-all-package-cache-keys
