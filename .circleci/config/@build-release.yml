### ***
### WARNING: DO NOT manually EDIT or MERGE this file, it is generated by 'make .circleci/config/@build-release.yml'.
### INSTEAD: Edit or merge the source in packages-oss.lock/pkgs.yml .circleci/config/@build-release.yml.tpl then run 'make .circleci/config/@build-release.yml'.
### ***
# Current cache version: cache002

executors:
  releaser:
    docker:
      - image: circleci/buildpack-deps
    environment:
      PRODUCT_REVISION: ""
      AUTO_INSTALL_TOOLS: 'YES'
    shell: /usr/bin/env bash -euo pipefail -c

workflows:
  build-standalone:
    jobs:
      - cache-builder-images:
          filters:
            branches:
              only:
                - /build-.*/
                - /ci.*/
      - darwin_386_package: { requires: [ cache-builder-images ] }
      - darwin_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_386_package: { requires: [ cache-builder-images ] }
      - freebsd_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_arm_package: { requires: [ cache-builder-images ] }
      - linux_386_package: { requires: [ cache-builder-images ] }
      - linux_amd64_package: { requires: [ cache-builder-images ] }
      - linux_arm_package: { requires: [ cache-builder-images ] }
      - linux_arm64_package: { requires: [ cache-builder-images ] }
      - netbsd_386_package: { requires: [ cache-builder-images ] }
      - netbsd_amd64_package: { requires: [ cache-builder-images ] }
      - openbsd_386_package: { requires: [ cache-builder-images ] }
      - openbsd_amd64_package: { requires: [ cache-builder-images ] }
      - solaris_amd64_package: { requires: [ cache-builder-images ] }
      - windows_386_package: { requires: [ cache-builder-images ] }
      - windows_amd64_package: { requires: [ cache-builder-images ] }
      - bundle-releases:
          requires:
            - darwin_386_package
            - darwin_amd64_package
            - freebsd_386_package
            - freebsd_amd64_package
            - freebsd_arm_package
            - linux_386_package
            - linux_amd64_package
            - linux_arm_package
            - linux_arm64_package
            - netbsd_386_package
            - netbsd_amd64_package
            - openbsd_386_package
            - openbsd_amd64_package
            - solaris_amd64_package
            - windows_386_package
            - windows_amd64_package
jobs:
  cache-builder-images:
    executor: releaser
    steps:
      - setup_remote_docker
      - checkout
      - write-build-layer-cache-keys

      # Load best available cached image.
      - restore_cache:
          keys:
            - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
            - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
            - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
            - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
            - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
            - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
            - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
            - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run:
          name: Finish early if loaded exact match from cache.
          command: |
            if [ -f .buildcache/archives/07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90.tar.gz ]; then
              echo "Exact match found in cache, skipping build."
              circleci-agent step halt
            else
              echo "No exact match found, proceeding with build."
            fi
      - run: LAYER_SPEC_ID=07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90 make -C packages*.lock load-builder-cache

      # No exact match was found, so build each layer up to target type.
      - run: make -f packages*.lock/layer.mk 00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db-image
      - run: make -f packages*.lock/layer.mk 01-install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2-image
      - run: make -f packages*.lock/layer.mk 02-install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220-image
      - run: make -f packages*.lock/layer.mk 03-set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a-image
      - run: make -f packages*.lock/layer.mk 04-install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f-image
      - run: make -f packages*.lock/layer.mk 05-ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475-image
      - run: make -f packages*.lock/layer.mk 06-build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72-image
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90-image

      # Save the target layer archive.
      
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90-save
      
      # Store the target layer archive as all the relevant cache names.
      - save_cache:
          key: cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          paths:
            - .buildcache/archives/07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90.tar.gz
      - run: mv .buildcache/archives/07-build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90.tar.gz .buildcache/archives/06-build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72.tar.gz
      - save_cache:
          key: cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          paths:
            - .buildcache/archives/06-build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72.tar.gz
      - run: mv .buildcache/archives/06-build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72.tar.gz .buildcache/archives/05-ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475.tar.gz
      - save_cache:
          key: cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          paths:
            - .buildcache/archives/05-ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475.tar.gz
      - run: mv .buildcache/archives/05-ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475.tar.gz .buildcache/archives/04-install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f.tar.gz
      - save_cache:
          key: cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          paths:
            - .buildcache/archives/04-install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f.tar.gz
      - run: mv .buildcache/archives/04-install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f.tar.gz .buildcache/archives/03-set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a.tar.gz
      - save_cache:
          key: cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          paths:
            - .buildcache/archives/03-set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a.tar.gz
      - run: mv .buildcache/archives/03-set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a.tar.gz .buildcache/archives/02-install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220.tar.gz
      - save_cache:
          key: cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          paths:
            - .buildcache/archives/02-install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220.tar.gz
      - run: mv .buildcache/archives/02-install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220.tar.gz .buildcache/archives/01-install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2.tar.gz
      - save_cache:
          key: cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          paths:
            - .buildcache/archives/01-install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2.tar.gz
      - run: mv .buildcache/archives/01-install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2.tar.gz .buildcache/archives/00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db.tar.gz
      - save_cache:
          key: cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
          paths:
            - .buildcache/archives/00-base-06c792d6756fe70002ca3d73580e60e3f7ce80db.tar.gz
  darwin_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 40071bc81518f88f642366e7f1d8270ff78f409b
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-40071bc81518f88f642366e7f1d8270ff78f409b-{{checksum ".buildcache/cache-keys/package-40071bc81518f88f642366e7f1d8270ff78f409b"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_1e15_{{checksum ".buildcache/cache-keys/copy-source-1e15b997b0451457c36f3bdda18f0745a0b58ff6"}}
          - cache002-warm-go-build-vendor-cache_804f_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-804fab5f34fb2f76ca81989cb41a04141dae144c"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-40071bc81518f88f642366e7f1d8270ff78f409b-{{checksum ".buildcache/cache-keys/package-40071bc81518f88f642366e7f1d8270ff78f409b"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-804fab5f34fb2f76ca81989cb41a04141dae144c.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-804fab5f34fb2f76ca81989cb41a04141dae144c-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_804f_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-804fab5f34fb2f76ca81989cb41a04141dae144c"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-804fab5f34fb2f76ca81989cb41a04141dae144c.tar.gz

  darwin_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0-{{checksum ".buildcache/cache-keys/package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_ec15_{{checksum ".buildcache/cache-keys/copy-source-ec15cb67f6aac635fa52d676de2a1944c53fb955"}}
          - cache002-warm-go-build-vendor-cache_f055_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-f055938f562f0df01070ddf405ee499fd314cb65"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0-{{checksum ".buildcache/cache-keys/package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-f055938f562f0df01070ddf405ee499fd314cb65.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-f055938f562f0df01070ddf405ee499fd314cb65-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_f055_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-f055938f562f0df01070ddf405ee499fd314cb65"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-f055938f562f0df01070ddf405ee499fd314cb65.tar.gz

  freebsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 748fb1fd4f5c94ced3932341ec1bf469596301a1
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-748fb1fd4f5c94ced3932341ec1bf469596301a1-{{checksum ".buildcache/cache-keys/package-748fb1fd4f5c94ced3932341ec1bf469596301a1"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_5cf5_{{checksum ".buildcache/cache-keys/copy-source-5cf5a53d733e58983156078f990cf9bfd30dc9fd"}}
          - cache002-warm-go-build-vendor-cache_be40_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-be40bc2a89a1f9b5f22a5684cd086dff7b309e9c"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-748fb1fd4f5c94ced3932341ec1bf469596301a1-{{checksum ".buildcache/cache-keys/package-748fb1fd4f5c94ced3932341ec1bf469596301a1"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-be40bc2a89a1f9b5f22a5684cd086dff7b309e9c.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-be40bc2a89a1f9b5f22a5684cd086dff7b309e9c-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_be40_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-be40bc2a89a1f9b5f22a5684cd086dff7b309e9c"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-be40bc2a89a1f9b5f22a5684cd086dff7b309e9c.tar.gz

  freebsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 307a4bbad15132a5fcf41f03f25343acf5e39a09
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-307a4bbad15132a5fcf41f03f25343acf5e39a09-{{checksum ".buildcache/cache-keys/package-307a4bbad15132a5fcf41f03f25343acf5e39a09"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_3773_{{checksum ".buildcache/cache-keys/copy-source-37732486c3638f206a421d4b8821da90a6e171e5"}}
          - cache002-warm-go-build-vendor-cache_6e00_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-6e00337b3bf000b518e389290994372fcf94ccd7"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-307a4bbad15132a5fcf41f03f25343acf5e39a09-{{checksum ".buildcache/cache-keys/package-307a4bbad15132a5fcf41f03f25343acf5e39a09"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-6e00337b3bf000b518e389290994372fcf94ccd7.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-6e00337b3bf000b518e389290994372fcf94ccd7-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_6e00_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-6e00337b3bf000b518e389290994372fcf94ccd7"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-6e00337b3bf000b518e389290994372fcf94ccd7.tar.gz

  freebsd_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: dfeb36935784d89486ab1fe50a28185ee52ad27b
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-dfeb36935784d89486ab1fe50a28185ee52ad27b-{{checksum ".buildcache/cache-keys/package-dfeb36935784d89486ab1fe50a28185ee52ad27b"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_84bb_{{checksum ".buildcache/cache-keys/copy-source-84bb14392a8ee8bb06ae2a4e1f066a337727a2f0"}}
          - cache002-warm-go-build-vendor-cache_b2da_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b2dad22d23e6728e45f8a0cdcec7a19ea785bb8d"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-dfeb36935784d89486ab1fe50a28185ee52ad27b-{{checksum ".buildcache/cache-keys/package-dfeb36935784d89486ab1fe50a28185ee52ad27b"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-b2dad22d23e6728e45f8a0cdcec7a19ea785bb8d.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-b2dad22d23e6728e45f8a0cdcec7a19ea785bb8d-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_b2da_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b2dad22d23e6728e45f8a0cdcec7a19ea785bb8d"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-b2dad22d23e6728e45f8a0cdcec7a19ea785bb8d.tar.gz

  linux_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb-{{checksum ".buildcache/cache-keys/package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_5625_{{checksum ".buildcache/cache-keys/copy-source-5625def626a1b61c8fdfb1e32334f943f2f49c8a"}}
          - cache002-warm-go-build-vendor-cache_34c3_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-34c310e0b7b3743e7339d0bc61336ef1696ad3f8"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb-{{checksum ".buildcache/cache-keys/package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-34c310e0b7b3743e7339d0bc61336ef1696ad3f8.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-34c310e0b7b3743e7339d0bc61336ef1696ad3f8-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_34c3_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-34c310e0b7b3743e7339d0bc61336ef1696ad3f8"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-34c310e0b7b3743e7339d0bc61336ef1696ad3f8.tar.gz

  linux_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d-{{checksum ".buildcache/cache-keys/package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_037c_{{checksum ".buildcache/cache-keys/copy-source-037c2b4d410fc926b14e42f8bb938db367e7d7ca"}}
          - cache002-warm-go-build-vendor-cache_5a16_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-5a1666d67ac28507b7da6163f468e4f7b54ba2ca"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d-{{checksum ".buildcache/cache-keys/package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-5a1666d67ac28507b7da6163f468e4f7b54ba2ca.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-5a1666d67ac28507b7da6163f468e4f7b54ba2ca-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_5a16_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-5a1666d67ac28507b7da6163f468e4f7b54ba2ca"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-5a1666d67ac28507b7da6163f468e4f7b54ba2ca.tar.gz

  linux_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: b864db36ac22d0e75de747c8db0e946dcbbfd538
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-b864db36ac22d0e75de747c8db0e946dcbbfd538-{{checksum ".buildcache/cache-keys/package-b864db36ac22d0e75de747c8db0e946dcbbfd538"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_a227_{{checksum ".buildcache/cache-keys/copy-source-a227eaabba5c2dd3f5a7c413077364f400429d8c"}}
          - cache002-warm-go-build-vendor-cache_e649_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-e6493927774da26dc5dc988d6b66ab94d773938e"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-b864db36ac22d0e75de747c8db0e946dcbbfd538-{{checksum ".buildcache/cache-keys/package-b864db36ac22d0e75de747c8db0e946dcbbfd538"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-e6493927774da26dc5dc988d6b66ab94d773938e.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-e6493927774da26dc5dc988d6b66ab94d773938e-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_e649_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-e6493927774da26dc5dc988d6b66ab94d773938e"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-e6493927774da26dc5dc988d6b66ab94d773938e.tar.gz

  linux_arm64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 1680c2c24a3e23946f12d5629f2eb6c8702e3c2e
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e-{{checksum ".buildcache/cache-keys/package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_65e2_{{checksum ".buildcache/cache-keys/copy-source-65e2103271a2fa887a1af64ba9a8e2bf6f0caf9f"}}
          - cache002-warm-go-build-vendor-cache_357d_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-357d85ca627884423b73aede44469e461384a580"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e-{{checksum ".buildcache/cache-keys/package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-357d85ca627884423b73aede44469e461384a580.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-357d85ca627884423b73aede44469e461384a580-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_357d_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-357d85ca627884423b73aede44469e461384a580"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-357d85ca627884423b73aede44469e461384a580.tar.gz

  netbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a-{{checksum ".buildcache/cache-keys/package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_1db0_{{checksum ".buildcache/cache-keys/copy-source-1db028e81ffe7c030dc4a86e0ce8b9c52e6162b8"}}
          - cache002-warm-go-build-vendor-cache_267c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-267ca9059967366c6225a90095873984c29a2103"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a-{{checksum ".buildcache/cache-keys/package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-267ca9059967366c6225a90095873984c29a2103.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-267ca9059967366c6225a90095873984c29a2103-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_267c_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-267ca9059967366c6225a90095873984c29a2103"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-267ca9059967366c6225a90095873984c29a2103.tar.gz

  netbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: d1092e3282592c23e6a1144566bcd064cae8f915
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-d1092e3282592c23e6a1144566bcd064cae8f915-{{checksum ".buildcache/cache-keys/package-d1092e3282592c23e6a1144566bcd064cae8f915"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_ec8b_{{checksum ".buildcache/cache-keys/copy-source-ec8b88767157efd2acd52682c7a351122e0e74e8"}}
          - cache002-warm-go-build-vendor-cache_08c6_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-08c6940fec493feff63dedc634d45ceeaa324d50"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-d1092e3282592c23e6a1144566bcd064cae8f915-{{checksum ".buildcache/cache-keys/package-d1092e3282592c23e6a1144566bcd064cae8f915"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-08c6940fec493feff63dedc634d45ceeaa324d50.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-08c6940fec493feff63dedc634d45ceeaa324d50-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_08c6_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-08c6940fec493feff63dedc634d45ceeaa324d50"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-08c6940fec493feff63dedc634d45ceeaa324d50.tar.gz

  openbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 4715e102ba040bcbc22ae6f10294d72652b2b05b
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-4715e102ba040bcbc22ae6f10294d72652b2b05b-{{checksum ".buildcache/cache-keys/package-4715e102ba040bcbc22ae6f10294d72652b2b05b"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_ed64_{{checksum ".buildcache/cache-keys/copy-source-ed643361006603077ab0d5f815b6bedf5123ebc5"}}
          - cache002-warm-go-build-vendor-cache_4ee8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-4ee8c58c81a6c54ff5847d9b525d406fd30271cc"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-4715e102ba040bcbc22ae6f10294d72652b2b05b-{{checksum ".buildcache/cache-keys/package-4715e102ba040bcbc22ae6f10294d72652b2b05b"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-4ee8c58c81a6c54ff5847d9b525d406fd30271cc.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-4ee8c58c81a6c54ff5847d9b525d406fd30271cc-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_4ee8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-4ee8c58c81a6c54ff5847d9b525d406fd30271cc"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-4ee8c58c81a6c54ff5847d9b525d406fd30271cc.tar.gz

  openbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 2cb556a4c2dc99af282d8e9b76d654a6590f0d4f
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f-{{checksum ".buildcache/cache-keys/package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_e6b7_{{checksum ".buildcache/cache-keys/copy-source-e6b7d87d5cadc7f42949febe0999646169448648"}}
          - cache002-warm-go-build-vendor-cache_77da_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-77daeedc6f64f01225b865fa626137b5bdd26224"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f-{{checksum ".buildcache/cache-keys/package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-77daeedc6f64f01225b865fa626137b5bdd26224.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-77daeedc6f64f01225b865fa626137b5bdd26224-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_77da_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-77daeedc6f64f01225b865fa626137b5bdd26224"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-77daeedc6f64f01225b865fa626137b5bdd26224.tar.gz

  solaris_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd-{{checksum ".buildcache/cache-keys/package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_aa96_{{checksum ".buildcache/cache-keys/copy-source-aa968bb05595b5023dc81ea955a264741bce97e0"}}
          - cache002-warm-go-build-vendor-cache_09ad_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-09ad7821425de281d98eef16457261f9582b1fb7"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd-{{checksum ".buildcache/cache-keys/package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-09ad7821425de281d98eef16457261f9582b1fb7.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-09ad7821425de281d98eef16457261f9582b1fb7-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_09ad_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-09ad7821425de281d98eef16457261f9582b1fb7"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-09ad7821425de281d98eef16457261f9582b1fb7.tar.gz

  windows_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: aba1682bb759557e4d22bf9bdc8f38238c738f0d
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-aba1682bb759557e4d22bf9bdc8f38238c738f0d-{{checksum ".buildcache/cache-keys/package-aba1682bb759557e4d22bf9bdc8f38238c738f0d"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_dae0_{{checksum ".buildcache/cache-keys/copy-source-dae0b5d2d66e62f94f1bf59aa971a742af27d609"}}
          - cache002-warm-go-build-vendor-cache_8eee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-8eee2c11ac7d5bc7fe8a5c6158580288df31ccf2"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-aba1682bb759557e4d22bf9bdc8f38238c738f0d-{{checksum ".buildcache/cache-keys/package-aba1682bb759557e4d22bf9bdc8f38238c738f0d"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-8eee2c11ac7d5bc7fe8a5c6158580288df31ccf2.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-8eee2c11ac7d5bc7fe8a5c6158580288df31ccf2-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_8eee_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-8eee2c11ac7d5bc7fe8a5c6158580288df31ccf2"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-8eee2c11ac7d5bc7fe8a5c6158580288df31ccf2.tar.gz

  windows_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: f29f1f1a2c7a7b6bd611c949d1e90300fda9fece
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece-{{checksum ".buildcache/cache-keys/package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_24ee_{{checksum ".buildcache/cache-keys/copy-source-24ee2226050258af0c84f8ff9b534d3f77de96f2"}}
          - cache002-warm-go-build-vendor-cache_fb53_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-fb53168fd56c4ceba4e391f3429d57e658f4bc0d"}}
          - cache002-build-static-assets_0f00_{{checksum ".buildcache/cache-keys/build-static-assets-0f006f5921ec8344bcb69324fd8c209cb65a7b90"}}
          - cache002-build-ui_afb3_{{checksum ".buildcache/cache-keys/build-ui-afb31abc0c89030c65ec2ef6253beadf908a1a72"}}
          - cache002-ui-dependencies_af47_{{checksum ".buildcache/cache-keys/ui-dependencies-af47e1ff0c23d814e40bb115dea6951b4c605475"}}
          - cache002-install-yarn_ed76_{{checksum ".buildcache/cache-keys/install-yarn-ed764f349fb7ddc37dc397918f7ab263ed4f243f"}}
          - cache002-set-workdir_476f_{{checksum ".buildcache/cache-keys/set-workdir-476f5bc5b97439e3fdae7a3faa3fc39ac4dcb78a"}}
          - cache002-install-go-tools_11d7_{{checksum ".buildcache/cache-keys/install-go-tools-11d7cb8409864c13e65360a13b2b7c00594b1220"}}
          - cache002-install-go_8489_{{checksum ".buildcache/cache-keys/install-go-848968fe5a51358722bc1f7c1c6accf7745e9ee2"}}
          - cache002-base_06c7_{{checksum ".buildcache/cache-keys/base-06c792d6756fe70002ca3d73580e60e3f7ce80db"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece-{{checksum ".buildcache/cache-keys/package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-fb53168fd56c4ceba4e391f3429d57e658f4bc0d.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-fb53168fd56c4ceba4e391f3429d57e658f4bc0d-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_fb53_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-fb53168fd56c4ceba4e391f3429d57e658f4bc0d"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-fb53168fd56c4ceba4e391f3429d57e658f4bc0d.tar.gz


  bundle-releases:
    executor: releaser
    steps:
      - checkout
      - write-all-package-cache-keys
      - load-darwin_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 40071bc81518f88f642366e7f1d8270ff78f409b
          name: Write package metadata for darwin_386_package
          command: |
            make package-meta
      - load-darwin_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0
          name: Write package metadata for darwin_amd64_package
          command: |
            make package-meta
      - load-freebsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 748fb1fd4f5c94ced3932341ec1bf469596301a1
          name: Write package metadata for freebsd_386_package
          command: |
            make package-meta
      - load-freebsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 307a4bbad15132a5fcf41f03f25343acf5e39a09
          name: Write package metadata for freebsd_amd64_package
          command: |
            make package-meta
      - load-freebsd_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: dfeb36935784d89486ab1fe50a28185ee52ad27b
          name: Write package metadata for freebsd_arm_package
          command: |
            make package-meta
      - load-linux_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb
          name: Write package metadata for linux_386_package
          command: |
            make package-meta
      - load-linux_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d
          name: Write package metadata for linux_amd64_package
          command: |
            make package-meta
      - load-linux_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: b864db36ac22d0e75de747c8db0e946dcbbfd538
          name: Write package metadata for linux_arm_package
          command: |
            make package-meta
      - load-linux_arm64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 1680c2c24a3e23946f12d5629f2eb6c8702e3c2e
          name: Write package metadata for linux_arm64_package
          command: |
            make package-meta
      - load-netbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a
          name: Write package metadata for netbsd_386_package
          command: |
            make package-meta
      - load-netbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: d1092e3282592c23e6a1144566bcd064cae8f915
          name: Write package metadata for netbsd_amd64_package
          command: |
            make package-meta
      - load-openbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 4715e102ba040bcbc22ae6f10294d72652b2b05b
          name: Write package metadata for openbsd_386_package
          command: |
            make package-meta
      - load-openbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 2cb556a4c2dc99af282d8e9b76d654a6590f0d4f
          name: Write package metadata for openbsd_amd64_package
          command: |
            make package-meta
      - load-solaris_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd
          name: Write package metadata for solaris_amd64_package
          command: |
            make package-meta
      - load-windows_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: aba1682bb759557e4d22bf9bdc8f38238c738f0d
          name: Write package metadata for windows_386_package
          command: |
            make package-meta
      - load-windows_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: f29f1f1a2c7a7b6bd611c949d1e90300fda9fece
          name: Write package metadata for windows_amd64_package
          command: |
            make package-meta
      - run:
          name: Write package aliases
          command:
            make aliases
      - run:
          name: List Build Cache
          command: ls -lahR .buildcache

      # Surface the package store directory as an artifact.
      # This makes each zipped package separately downloadable.
      - store_artifacts:
          path: .buildcache/packages
          destination: packages-standalone

      # Surface a tarball of the whole package store as an artifact.
      - run: tar -czf packages-standalone.tar.gz .buildcache/packages
      - store_artifacts:
          path: packages-standalone.tar.gz
          destination: packages-standalone.tar.gz

      # Surface a tarball of just the metadata files.
      - run: tar -czf meta-standalone.tar.gz .buildcache/packages/store/*.json
      - store_artifacts:
          path: meta-standalone.tar.gz
          destination: meta-standalone.tar.gz

commands:
  load-darwin_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-40071bc81518f88f642366e7f1d8270ff78f409b-{{checksum ".buildcache/cache-keys/package-40071bc81518f88f642366e7f1d8270ff78f409b"}}'
  
  load-darwin_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0-{{checksum ".buildcache/cache-keys/package-9a2c24dc5ac6cfcb415c824ba7fe5d996f3be3d0"}}'
  
  load-freebsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-748fb1fd4f5c94ced3932341ec1bf469596301a1-{{checksum ".buildcache/cache-keys/package-748fb1fd4f5c94ced3932341ec1bf469596301a1"}}'
  
  load-freebsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-307a4bbad15132a5fcf41f03f25343acf5e39a09-{{checksum ".buildcache/cache-keys/package-307a4bbad15132a5fcf41f03f25343acf5e39a09"}}'
  
  load-freebsd_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-dfeb36935784d89486ab1fe50a28185ee52ad27b-{{checksum ".buildcache/cache-keys/package-dfeb36935784d89486ab1fe50a28185ee52ad27b"}}'
  
  load-linux_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb-{{checksum ".buildcache/cache-keys/package-d3c18f40c40f9ff3ab5ffd41142fe8f8b5e296cb"}}'
  
  load-linux_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d-{{checksum ".buildcache/cache-keys/package-5ca3ab5f11e1878f6a2ccb39132ae6eff9b5995d"}}'
  
  load-linux_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-b864db36ac22d0e75de747c8db0e946dcbbfd538-{{checksum ".buildcache/cache-keys/package-b864db36ac22d0e75de747c8db0e946dcbbfd538"}}'
  
  load-linux_arm64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e-{{checksum ".buildcache/cache-keys/package-1680c2c24a3e23946f12d5629f2eb6c8702e3c2e"}}'
  
  load-netbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a-{{checksum ".buildcache/cache-keys/package-56a3504bc50edfcfe3f9faa4a84dcb8c8f863f4a"}}'
  
  load-netbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-d1092e3282592c23e6a1144566bcd064cae8f915-{{checksum ".buildcache/cache-keys/package-d1092e3282592c23e6a1144566bcd064cae8f915"}}'
  
  load-openbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-4715e102ba040bcbc22ae6f10294d72652b2b05b-{{checksum ".buildcache/cache-keys/package-4715e102ba040bcbc22ae6f10294d72652b2b05b"}}'
  
  load-openbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f-{{checksum ".buildcache/cache-keys/package-2cb556a4c2dc99af282d8e9b76d654a6590f0d4f"}}'
  
  load-solaris_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd-{{checksum ".buildcache/cache-keys/package-3aba95560b5d0ab04b23f71874e4e68d8cb7bbcd"}}'
  
  load-windows_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-aba1682bb759557e4d22bf9bdc8f38238c738f0d-{{checksum ".buildcache/cache-keys/package-aba1682bb759557e4d22bf9bdc8f38238c738f0d"}}'
  
  load-windows_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece-{{checksum ".buildcache/cache-keys/package-f29f1f1a2c7a7b6bd611c949d1e90300fda9fece"}}'
  

  write-build-layer-cache-keys:
    steps:
      - run:
          name: Write builder layer cache keys
          command: make -C packages*.lock write-builder-cache-keys

  write-package-cache-key:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-package-cache-key

  write-all-package-cache-keys:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-all-package-cache-keys
